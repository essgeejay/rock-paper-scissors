<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>

    <h1>Rock, paper, Scissors Game</h1>



    <script>

        // console only Rock, Paper and Scissors

        let tieScore = 0;
        let playerScore = 0;
        let computerScore = 0;

        // A function that randomises the choice for the computer. 
        function computerPlay() {
            const choices = ['r', 'p', 's'];
            return choices[Math.floor(Math.random() * choices.length)];
        }

        // This function plays a single round of the game. 
        function playRound(playerSelection, computerSelection) {

            // You lose...
            if (playerSelection === 'r' && computerSelection === 'p') {
                computerScore++
                return console.log("YOU LOSE! - Paper beats Rock!");
            }
            else if (playerSelection === 'p' && computerSelection === 's') {
                computerScore++
                return console.log("YOU LOSE! - scissors beats paper!");
            }
            else if (playerSelection === 's' && computerSelection === 'r') {
                computerScore++
                return console.log("YOU LOSE! - rock beats scissors!");
            }

            // You win...
            else if (playerSelection === 'r' && computerSelection === 's') {
                playerScore++
                return console.log("YOU WIN! - rock beats scissors!");
            }
            else if (playerSelection === 'p' && computerSelection === 'r') {
                playerScore++
                return console.log("YOU WIN! - Paper beats Rock!");
            }
            else if (playerSelection === 's' && computerSelection === 'p') {
                playerScore++
                return console.log("YOU WIN! - Scissors beats Paper!");
            }

            // You both tie...
            else {
                tieScore++
                return console.log("Both tie!!")
            }

        }


        for (let count = 0; count <= 4; count++) {

            const computerSelection = computerPlay();
            let playerSelection = prompt("(R)ock, (P)aper or (S)isscors?").toLowerCase();

            // A While loop so the user has to enter r,p or s - and nothing else.
            while ((playerSelection !== "r") &&
                (playerSelection !== "p") &&
                (playerSelection !== "s")) {
                playerSelection = prompt(" Please choose either: (R)ock, (P)aper or (S)isscors?").toLowerCase();
            };

            console.log(`Computer chose: ${computerSelection}`);
            console.log(`You chose: ${playerSelection}`);

            //Function call: Plays a round of a game
            playRound(playerSelection, computerSelection);

        }

        function result() {
            if ((tieScore > playerScore) && (tieScore > computerScore)) {
                return "Its a tie!"
            }
            else if (playerScore > computerScore) {
                return "You win"
            }
            else {
                return "You lose"
            };
        }



        console.log(`Computer score is: ${computerScore}`);
        console.log(`Your score is: ${playerScore}`);

        console.log(result());








    </script>
</body>

</html>